<h3>Datos de envío</h3>
<hr>
<form (ngSubmit)="payProduct()" [formGroup]="payForm">
  <div  class="row">
    <div *ngIf="user" class="col-md-8">
        <div class="mb-3">
          <label for="nameBox">Nombre:</label>
          <input type="text" formControlName="userName" id="nameBox" value="{{user.user.name}}" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="secondNameBox">Apellidos:</label>
          <input type="text" formControlName="userSecondName" id="secondNameBox" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="emailBox">Email:</label>
          <input type="email" formControlName="userEmail" id="emailBox" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="local">Localidad:</label>
          <input type="text" formControlName="userLocation" id="local" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="postCode">Código postal:</label>
          <input type="text" formControlName="userCode" id="postCode" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="direction">Dirección:</label>
          <input type="text" formControlName="userDirection" id="direction" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="tel">Teléfono:</label>
          <input type="tel" formControlName="userPhone" id="tel"  class="form-control" required>
        </div>
        <hr>
        <h5>Datos de banco</h5>
        <hr>
        <div class="mb-3 creditCard">
          <div class="row ">
            <div class="col-md-6 col-md-offset-4">
              <div class="credit-card-div">
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <div class="row">
                      <div class="col-md-12">
                        <input type="text"  formControlName="cardNumberType" class="form-control" placeholder="Enter Card Number"/>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-3 col-sm-3 col-xs-3">
                        <span class="help-block text-muted small-font"> Expiry Month</span>
                        <input type="text" class="form-control" formControlName="monthType" placeholder="MM" required=""/>
                      </div>
                      <div class="col-md-3 col-sm-3 col-xs-3">
                        <span class="help-block text-muted small-font"> Expiry Year</span>
                        <input type="text" class="form-control" formControlName="yearType" placeholder="YY" required=""/>
                      </div>
                      <div class="col-md-3 col-sm-3 col-xs-3">
                        <span class="help-block text-muted small-font"> CCV</span>
                        <input type="text" class="form-control" formControlName="CCVType" placeholder="CCV" required=""/>
                      </div>
                      <div class="col-md-3 col-sm-3 col-xs-3">
                        <img src="https://bootstraptema.ru/snippets/form/2016/form-card/card.png" class="img-rounded"/>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12 pad-adjust">
                        <input type="text" formControlName="cardHolderType" class="form-control" required="" placeholder="Name On The Card"/>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 col-sm-6 col-xs-6 mt-2">
                        <input type="button" (click)="cancelPay()" class="btn btn-danger" value="CANCEL"/>
                      </div>
                      <div class="col-md-6 col-sm-6 col-xs-6 mt-2">
                        <input type="submit" class="btn btn-success" [disabled]="!payForm.valid" value="PAGAR AHORA"/>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div class="col-md-4">
      <div class="resultCard">
        <h6>Resumen del pedido</h6>
        <div  class="checkOutCard">
          <div>
            <span><i>Articulos:</i></span>
          </div>
          <div *ngFor="let line of lines">
            <span>{{line.product.title}} <span *ngIf="line.quantity>1">({{line.quantity}})</span></span> <span class="float-end">{{line.product.price}}€</span>
          </div>
          <hr class="mt-1 mb-1">
          <div class="totalCheck">
            <span>Total</span> <span class="float-end">{{totalCart | currency:'EUR'}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
